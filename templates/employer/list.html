{% extends "base.html" %}

{% block title %}Роботодавці - Job Search App{% endblock %}

{% block extra_css %}
<style>
  .transition-hover {
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  }

  .transition-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.06) !important;
  }

  .kved-badge-truncate {
    display: block !important;
    width: 100% !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    padding: 6px 12px !important;
    background-color: #e7f1ff !important;
    /* light blue background */
    color: #0d6efd !important;
    border: 1px solid #9ec5fe !important;
    border-radius: 6px !important;
    font-size: 0.8rem !important;
    font-weight: 600 !important;
    text-align: center !important;
  }
</style>
{% endblock %}

{% block content %}
<div class="row align-items-center mb-4">
  <div class="col">
    <h1 class="h2">Наші роботодавці</h1>
    <p class="text-muted">Компанії, що шукають таланти</p>
  </div>
</div>

<div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
  {% for employer in employers %}
  <div class="col">
    <div class="card h-100 border-0 shadow-sm transition-hover">
      <div class="card-body text-center">
        <!-- Logo -->
        <a href="{% url 'employer:detail' employer.pk %}" class="text-decoration-none">
          <div class="mb-3" style="height: 60px;">
            {% if employer.logo %}
            <img src="{{ employer.logo.url }}" alt="{{ employer }}" class="rounded"
              style="max-height: 60px; object-fit: contain;">
            {% else %}
            <div class="bg-light rounded d-flex align-items-center justify-content-center mx-auto"
              style="height: 60px; width: 60px;">
              <i class="bi bi-building fs-3 text-secondary"></i>
            </div>
            {% endif %}
          </div>
          <h5 class="card-title fw-bold mb-1 text-dark">{{ employer }}</h5>
        </a>
        <p class="text-muted small mb-3">
          <i class="bi bi-geo-alt me-1 text-primary"></i>
          {% if employer.location %}
          {{ employer.location.name }}, {{ employer.location.community.district.region.name }} обл.
          {% else %}
          Україна
          {% endif %}
        </p>

        {% if employer.kved %}
        <div class="mt-2 px-3 w-100" style="min-width: 0;">
          <div class="kved-badge-truncate" title="{{ employer.kved.name }}">
            {{ employer.kved.name }}
          </div>
        </div>
        {% endif %}
      </div>
      <div class="card-footer bg-white border-0 py-3 text-center">
        <a href="{% url 'employer:detail' employer.pk %}" class="btn btn-outline-primary btn-sm px-4">Про компанію</a>
      </div>
    </div>
  </div>
  {% empty %}
  <div class="col-12 text-center py-5">
    <p class="text-muted fs-4">Роботодавців поки не знайдено.</p>
  </div>
  {% endfor %}
</div>

<!-- Pagination -->
{% include "includes/pagination.html" %}

{% endblock %}